(this["webpackJsonp@watson/sdk-example-editor"]=this["webpackJsonp@watson/sdk-example-editor"]||[]).push([[0],{110:function(e,a,t){},114:function(e,a,t){},116:function(e,a,t){},398:function(e,a,t){},399:function(e,a,t){},400:function(e,a,t){},401:function(e,a,t){},430:function(e,a,t){},431:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(28),c=t.n(r),o=t(5),s=t(71),i=t(24),u=t(55),d=t.n(u),m=t(45),p=t(29),f=t(42),g=t(30),v=t.n(g),b={java:".java",node:".js",python:".py",ruby:".rb",go:".go",swift:".swift",dotnet:".cs","c#":".cs",php:".php","dotnet-standard":".cs"},h=function(e){return e.map((function(e){return e.replace("\n","").replace("\\\\","\\")})).join("\n")},x=t(9),E=t(8),j=t(56),O=t.n(j),y=function(e){return e.byId[e.selectedId]},I=function(e){return e.selectedId&&"json"===e.selectedId.split(".").pop()},k=Object(E.a)([y],(function(e){return!!(null===e||void 0===e?void 0:e.info)})),w=Object(E.a)([y],(function(e){var a,t,n=null!==(a=null===e||void 0===e||null===(t=e.info)||void 0===t?void 0:t["x-sdk-supported-languages"])&&void 0!==a?a:[];return Object.entries(e.paths).forEach((function(e){var a=Object(x.a)(e,2),t=(a[0],a[1]);Object.entries(t).forEach((function(e){var a,t=Object(x.a)(e,2),l=(t[0],t[1]);if(!Array.isArray(l)){var r=null===l||void 0===l||null===(a=l["x-sdk-operations"])||void 0===a?void 0:a["request-examples"];r&&(n=O()(n,Object.keys(r)))}}))})),n=n.sort()})),N=Object(E.a)([y,function(e){return e.selectedLanguage},k],(function(e,a,t){var n=[];return Object.entries(e.paths).forEach((function(e){var l=Object(x.a)(e,2),r=l[0],c=l[1];Object.entries(c).forEach((function(e){var l,c=Object(x.a)(e,2),o=c[0],s=c[1];if(!Array.isArray(s)){var i=s["x-sdk-operations"],u=[],d=t?a:Object.keys(i["request-examples"])[0];(null===i||void 0===i||null===(l=i["request-examples"])||void 0===l?void 0:l[d])&&i["request-examples"][d].forEach((function(e){if(e.example){var a=e.name,t=e.example[0].source;u.push({name:a,code:t})}})),0===u.length&&u.push({name:"none",code:[]});var m={path:r,method:o,operationId:s.operationId,summary:s.summary,examples:u};n.push(m)}}))})),n})),L=Object(i.b)({name:"files",initialState:{byId:{},allIds:[],selectedId:null,selectedLanguage:null},reducers:{loadFiles:function(e,a){var t;a.payload.forEach((function(a){var t,n=a.name,l=a.content;t="json"===n.split(".").pop()?JSON.parse(l):v.a.safeLoad(l),e.byId[n]=t,e.allIds=Object.keys(e.byId).sort(),e.selectedId=n}));var n=w(e);e.selectedLanguage=null!==(t=n[0])&&void 0!==t?t:null},updateExample:function(e,a){var t=e.byId[e.selectedId];if(t){var n=a.payload,l=n.path,r=n.method,c=n.language,o=n.index,s=n.newCodeExample,i=t.paths[l][r];i["x-sdk-operations"]||(i=Object(f.a)({},i,{"x-sdk-operations":{"request-examples":{}}})),t.paths[l][r]=i;var u=i["x-sdk-operations"]["request-examples"];u[c]||(u=Object(f.a)({},u,Object(p.a)({},c,[])));var d=u[c];0===d.length&&d.push({name:"Example request",example:[{type:"code",source:[]}]}),d[o].example[0].source=function(e){var a=e.split("\n");return a.map((function(e,t){return t===a.length-1?e:"".concat(e,"\n")}))}(s),t.paths[l][r]["x-sdk-operations"]["request-examples"][c]=d}},addLanguage:function(e,a){var t,n=a.payload,l=e.byId[e.selectedId];if(l){var r=null!==(t=l.info["x-sdk-supported-languages"])&&void 0!==t?t:[];"curl"!==n&&r.push(n),l.info["x-sdk-supported-languages"]=r}},selectFile:function(e,a){var t,n=a.payload;e.selectedId=n;var l=w(e);e.selectedLanguage=null!==(t=l[0])&&void 0!==t?t:null},selectLanguage:function(e,a){e.selectedLanguage=a.payload},clearFiles:function(){return{byId:{},allIds:[],selectedId:null,selectedLanguage:null}}}}),A=L.actions,C=L.reducer,_=A.loadFiles,S=A.selectFile,q=A.selectLanguage,T=A.updateExample,D=A.addLanguage,B=A.clearFiles,F=C,P={key:"sdk-examples",storage:d.a},J=Object(m.a)(P,F),z=Object(i.a)({reducer:J,middleware:Object(s.a)(Object(i.c)({immutableCheck:!1,serializableCheck:!1}))});Object(m.b)(z);var H=z,M=t(57),R=t(58),W=t(72),K=t(69),$=t(43),G=t.n($),Q=t(59),U=t(60),V=t(70),X=(t(110),function(e){var a=new FileReader;return new Promise((function(t,n){a.onload=function(e){return t(e.target.result)},a.onerror=function(e){return n(e)},a.readAsText(e)}))});function Y(){var e=Object(o.c)(),a=Object(n.useCallback)(function(){var a=Object(U.a)(G.a.mark((function a(t){var n,l,r,c,o;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=[],l=Object(Q.a)(t),a.prev=2,l.s();case 4:if((r=l.n()).done){a.next=18;break}return c=r.value,a.prev=6,a.next=9,X(c);case 9:o=a.sent,n.push({name:c.name,content:o}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(6),console.error(a.t0);case 16:a.next=4;break;case 18:a.next=23;break;case 20:a.prev=20,a.t1=a.catch(2),l.e(a.t1);case 23:return a.prev=23,l.f(),a.finish(23);case 26:e(_(n));case 27:case"end":return a.stop()}}),a,null,[[2,20,23,26],[6,13]])})));return function(e){return a.apply(this,arguments)}}(),[e]),t=Object(V.a)({onDrop:a}),r=t.getRootProps,c=t.getInputProps,s=t.isDragActive;return l.a.createElement("section",{className:"file-input"},l.a.createElement("div",Object.assign({className:"file-input__dropbox"},r()),l.a.createElement("input",c()),s?l.a.createElement("p",null,"Drag the file here."):l.a.createElement("p",null,"Drag an OpenAPI file or an extracted example file here, or click to select.")))}var Z=t(44),ee=t(438),ae=t(435),te=t(442),ne=t(62),le=t.n(ne),re=t(63),ce=t.n(re);function oe(){var e=Object(o.d)((function(e){return{swagger:e.byId[e.selectedId],selectedId:e.selectedId,isJson:I(e)}}),o.b),a=e.swagger,t=e.selectedId,r=e.isJson,c=Object(n.useCallback)((function(){var e=new ce.a;r?e.file(t,new Blob([JSON.stringify(a,null,2)],{type:"application/json"})):e.file(t,new Blob([v.a.safeDump(a)],{type:"application/x-yaml"}));var n=e.folder("examples");Object.entries(a.paths).forEach((function(e){var a=Object(x.a)(e,2),t=(a[0],a[1]);Object.entries(t).forEach((function(e){var a=Object(x.a)(e,2),t=(a[0],a[1]);if(!Array.isArray(t)){var l=t["x-sdk-operations"];l&&l["request-examples"]&&Object.entries(l["request-examples"]).forEach((function(e){var a=Object(x.a)(e,2),l=a[0],r=a[1];if("curl"!==l){var c=n.folder(l);r.forEach((function(e,a){if(e.example){for(var n=e.example[0].source;Array.isArray(n[0]);)n=n[0];c.file("".concat(t.operationId).concat(a>0?a:"").concat(b[l]),new Blob([h(n)]))}}))}}))}}))})),e.generateAsync({type:"blob"}).then((function(e){return le.a.saveAs(e,"".concat(t,".zip"))}))}),[r,t,a]);return l.a.createElement("div",null,l.a.createElement(te.a,{className:"button",onClick:c,type:"submit"},"Download"))}var se=t(440),ie=t(441);t(114);function ue(){var e=Object(o.c)(),a=Object(n.useState)(!1),t=Object(x.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)(""),i=Object(x.a)(s,2),u=i[0],d=i[1],m=Object(o.d)((function(e){return{languages:w(e),selectedLanguage:e.selectedLanguage,isSwagger:k(e)}}),o.b),p=m.languages,f=m.selectedLanguage,g=m.isSwagger,v=Object(n.useCallback)((function(){c(!1),e(D(u.trim()))}),[e,u]),b=Object(n.useCallback)((function(a){var t=a.selectedItem;c(!1),e(q(t))}),[e]);return l.a.createElement("div",{className:"language"},l.a.createElement("div",{className:"language__selector"},l.a.createElement(ee.a,{ariaLabel:"Languages",direction:"bottom",helperText:"Select the language to work with.",id:"swagger-language-dropdown",invalidText:"A valid value is required",items:p,label:"Language selection",selectedItem:null!==f&&void 0!==f?f:"",onChange:b})),l.a.createElement("div",{className:"language__actions"},l.a.createElement(ae.a,{disabled:!g,href:"#",onClick:function(){c(!0)}},"Add language")),l.a.createElement(se.a,{hasForm:!0,iconDescription:"Close",modalAriaLabel:"Add a new language",modalHeading:"Add language",modalLabel:"Language",primaryButtonDisabled:""===u.trim()||p.includes(u),onRequestSubmit:v,onSecondarySubmit:function(){c(!1)},open:r,primaryButtonText:"Add",secondaryButtonText:"Cancel",selectorPrimaryFocus:"#text-input-1"},l.a.createElement(ie.a,{id:"text-input-1",labelText:"Name",invalid:p.includes(u),onChange:function(e){d(e.target.value)},invalidText:"Language already exists",placeholder:"Type the language name...",type:"text"})))}var de=t(432),me=t(437),pe=t(439),fe=t(436),ge=t(68),ve=(t(116),function(e){var a=e.name,t=e.code,n=e.language,r=e.onCodeChange,c="dotnet-standard"===n?"cs":n;return l.a.createElement("div",{className:"endpoint-example"},l.a.createElement("p",null,a),l.a.createElement("div",{className:"text-area-wrapper"},l.a.createElement("div",{className:"text-area"},l.a.createElement(fe.a,{labelText:a,hideLabel:!0,invalidText:"A valid code snippet is required",placeholder:"Type code snippet here...",cols:80,rows:20,onChange:r,value:h(t)})),l.a.createElement("div",{className:"text-area"},l.a.createElement(pe.a,{className:"example-container--code",language:c,style:ge.solarizedDark},h(t)))))});ve.defaultProps={code:[],language:"node",updateExample:function(){}};var be=l.a.memo(ve,(function(e,a){return e.code===a.code&&e.language===a.language})),he=(t(398),function(){var e=Object(o.c)(),a=Object(o.d)((function(e){return{endpointExamples:N(e),selectedLanguage:e.selectedLanguage}}),o.b),t=a.endpointExamples,n=a.selectedLanguage,r=function(a,t,l){return function(r){var c=h(t.code),o=r.target.value;o!==c&&e(T({path:a.path,method:a.method,language:n,index:l,newCodeExample:o}))}};return l.a.createElement("div",null,l.a.createElement(de.a,null,t.map((function(e){return l.a.createElement(me.a,{key:e.operationId,title:e.operationId},l.a.createElement("div",{className:"examples-container__endpoint"},e.examples.map((function(a,t){return l.a.createElement(be,{key:a.name,code:a.code,name:a.name,language:n,onCodeChange:r(e,a,t)})}))))}))))});t(399);function xe(){return l.a.createElement("div",{className:"file"},l.a.createElement("div",{className:"file__languages"},l.a.createElement(ue,null)),l.a.createElement("div",{className:"file__operations"},l.a.createElement(he,null)),l.a.createElement("div",{className:"file__actions"},l.a.createElement(oe,null)))}t(400);function Ee(){var e=Object(o.c)(),a=Object(o.d)((function(e){return{allIds:e.allIds,selectedId:e.selectedId}}),o.b),t=a.allIds,r=a.selectedId,c=Object(n.useCallback)((function(){e(B())}),[e]),s=Object(n.useCallback)((function(a){var t=a.selectedItem;e(S(t))}),[e]);return 0===t.length?null:l.a.createElement("section",{className:"file-list"},l.a.createElement("div",{className:"file-list__selector"},l.a.createElement(ee.a,{ariaLabel:"API Definitions",direction:"bottom",helperText:"Swagger File Selection",id:"swagger-dropdown",invalidText:"A valid value is required",items:t,label:"API Selection",selectedItem:r,onChange:s,type:"default"})),l.a.createElement("div",{className:"file-list__clear"},l.a.createElement(ae.a,{href:"#",onClick:c},"Clear")),l.a.createElement("div",{className:"file-list__file"},r&&l.a.createElement(xe,null)))}t(401);var je=function(e){Object(W.a)(t,e);var a=Object(K.a)(t);function t(){return Object(M.a)(this,t),a.apply(this,arguments)}return Object(R.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(Z.Header,{"aria-label":"IBM Examples Editor"},l.a.createElement(Z.HeaderName,{href:"#",prefix:"IBM"},"SDK Examples Editor")),l.a.createElement("div",{className:"bx--grid App__content"},l.a.createElement("div",{className:"bx--row"},l.a.createElement("div",{className:"bx--col"},l.a.createElement(Y,null),l.a.createElement(Ee,null)))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(430);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,{store:H},l.a.createElement(je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,a,t){e.exports=t(431)}},[[74,1,2]]]);
//# sourceMappingURL=main.de4059ef.chunk.js.map