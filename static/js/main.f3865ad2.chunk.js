(this["webpackJsonp@watson/sdk-example-editor"]=this["webpackJsonp@watson/sdk-example-editor"]||[]).push([[0],{109:function(e,a,t){},113:function(e,a,t){},115:function(e,a,t){},397:function(e,a,t){},398:function(e,a,t){},399:function(e,a,t){},400:function(e,a,t){},429:function(e,a,t){},430:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(28),c=t.n(l),o=t(5),s=t(70),i=t(24),u=t(55),d=t.n(u),p=t(45),m=t(29),f=t(42),g=t(30),v=t.n(g),b={java:".java",node:".js",python:".py",ruby:".rb",go:".go",swift:".swift",dotnet:".cs","c#":".cs",php:".php","dotnet-standard":".cs"},h=function(e){return e.map((function(e){return e.replace("\n","").replace("\\","")})).join("\n")},x=Object(i.b)({name:"files",initialState:{byId:{},allIds:[],selectedId:null,selectedLanguage:null},reducers:{loadFiles:function(e,a){a.payload.forEach((function(a){var t,n=a.name,r=a.content;t="json"===n.split(".").pop()?JSON.parse(r):v.a.safeLoad(r),e.byId[n]=t,e.allIds=Object.keys(e.byId).sort(),e.selectedId=n,e.selectedLanguage=null}))},updateExample:function(e,a){var t=e.byId[e.selectedId];if(t){var n=a.payload,r=n.path,l=n.method,c=n.language,o=n.index,s=n.newCodeExample,i=t.paths[r][l];i["x-sdk-operations"]||(i=Object(f.a)({},i,{"x-sdk-operations":{"request-examples":{}}})),t.paths[r][l]=i;var u=i["x-sdk-operations"]["request-examples"];u[c]||(u=Object(f.a)({},u,Object(m.a)({},c,[])));var d=u[c];0===d.length&&d.push({name:"Example request",example:[{type:"code",source:[]}]}),d[o].example[0].source=function(e){var a=e.split("\n");return a.map((function(e,t){return t===a.length-1?e:"".concat(e,"\n")}))}(s),t.paths[r][l]["x-sdk-operations"]["request-examples"][c]=d}},addLanguage:function(e,a){var t,n=a.payload,r=e.byId[e.selectedId];if(r){var l=null!==(t=r.info["x-sdk-supported-languages"])&&void 0!==t?t:[];"curl"!==n&&l.push(n),r.info["x-sdk-supported-languages"]=l}},selectFile:function(e,a){var t=a.payload;e.selectedId=t,e.selectedLanguage=null},selectLanguage:function(e,a){e.selectedLanguage=a.payload}}}),E=x.actions,j=x.reducer,O=E.loadFiles,y=E.selectFile,k=E.selectLanguage,I=E.updateExample,w=E.addLanguage,N=j,L={key:"sdk-examples",storage:d.a},A=Object(p.a)(L,N),C=Object(i.a)({reducer:A,middleware:Object(s.a)(Object(i.c)({immutableCheck:!1,serializableCheck:!1}))});Object(p.b)(C);var S=C,_=t(56),q=t(57),D=t(71),T=t(68),B=t(43),F=t.n(B),P=t(58),J=t(59),M=t(69),z=(t(109),function(e){var a=new FileReader;return new Promise((function(t,n){a.onload=function(e){return t(e.target.result)},a.onerror=function(e){return n(e)},a.readAsText(e)}))});function H(){var e=Object(o.c)(),a=Object(n.useCallback)(function(){var a=Object(J.a)(F.a.mark((function a(t){var n,r,l,c,o;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=[],r=Object(P.a)(t),a.prev=2,r.s();case 4:if((l=r.n()).done){a.next=18;break}return c=l.value,a.prev=6,a.next=9,z(c);case 9:o=a.sent,n.push({name:c.name,content:o}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(6),console.error(a.t0);case 16:a.next=4;break;case 18:a.next=23;break;case 20:a.prev=20,a.t1=a.catch(2),r.e(a.t1);case 23:return a.prev=23,r.f(),a.finish(23);case 26:e(O(n));case 27:case"end":return a.stop()}}),a,null,[[2,20,23,26],[6,13]])})));return function(e){return a.apply(this,arguments)}}(),[e]),t=Object(M.a)({onDrop:a}),l=t.getRootProps,c=t.getInputProps,s=t.isDragActive;return r.a.createElement("section",{className:"file-input"},r.a.createElement("div",Object.assign({className:"file-input__dropbox"},l()),r.a.createElement("input",c()),s?r.a.createElement("p",null,"Drop the SDK examples here ..."):r.a.createElement("p",null,"Drag 'n' drop some SDK examples here, or click to select files")))}var K=t(44),R=t(437),W=t(9),$=t(441),G=t(61),Q=t.n(G),U=t(62),V=t.n(U),X=t(8),Y=function(e){return e.byId[e.selectedId]},Z=function(e){return e.selectedId&&"json"===e.selectedId.split(".").pop()},ee=Object(X.a)([Y],(function(e){return!!(null===e||void 0===e?void 0:e.info)})),ae=[],te=Object(X.a)([Y],(function(e){var a,t;if(null===e||void 0===e?void 0:e.info)return null!==(a=null===e||void 0===e||null===(t=e.info)||void 0===t?void 0:t["x-sdk-supported-languages"])&&void 0!==a?a:ae;var n={};Object.entries(e.paths).forEach((function(e){var a=Object(W.a)(e,2),t=(a[0],a[1]);Object.entries(t).forEach((function(e){var a,t=Object(W.a)(e,2),r=(t[0],t[1]);if(!Array.isArray(r)){var l=null===r||void 0===r||null===(a=r["x-sdk-operations"])||void 0===a?void 0:a["request-examples"];l&&(n[Object.keys(l)[0]]=!0)}}))}));var r=Object.keys(n);if(r.length>1)throw Error("Multiple languages found in swagger file. Found: ".concat(r.join(",")));return r||ae})),ne=Object(X.a)([Y,function(e){return e.selectedLanguage},ee],(function(e,a,t){var n=[];return Object.entries(e.paths).forEach((function(e){var r=Object(W.a)(e,2),l=r[0],c=r[1];Object.entries(c).forEach((function(e){var r,c=Object(W.a)(e,2),o=c[0],s=c[1];if(!Array.isArray(s)){var i=s["x-sdk-operations"],u=[],d=t?a:Object.keys(i["request-examples"])[0];(null===i||void 0===i||null===(r=i["request-examples"])||void 0===r?void 0:r[d])&&i["request-examples"][d].forEach((function(e){if(e.example){var a=e.name,t=e.example[0].source;u.push({name:a,code:t})}})),0===u.length&&u.push({name:"none",code:[]});var p={path:l,method:o,operationId:s.operationId,summary:s.summary,examples:u};n.push(p)}}))})),n}));function re(){var e=Object(o.d)((function(e){return{swagger:e.byId[e.selectedId],selectedId:e.selectedId,isJson:Z(e)}}),o.b),a=e.swagger,t=e.selectedId,l=e.isJson,c=Object(n.useCallback)((function(){var e=new V.a;l?e.file(t,new Blob([JSON.stringify(a,null,2)],{type:"application/json"})):e.file(t,new Blob([v.a.safeDump(a)],{type:"application/x-yaml"}));var n=e.folder("examples");Object.entries(a.paths).forEach((function(e){var a=Object(W.a)(e,2),t=(a[0],a[1]);Object.entries(t).forEach((function(e){var a=Object(W.a)(e,2),t=(a[0],a[1]);if(!Array.isArray(t)){var r=t["x-sdk-operations"];r&&r["request-examples"]&&Object.entries(r["request-examples"]).forEach((function(e){var a=Object(W.a)(e,2),r=a[0],l=a[1];if("curl"!==r){var c=n.folder(r);l.forEach((function(e,a){if(e.example){for(var n=e.example[0].source;Array.isArray(n[0]);)n=n[0];c.file("".concat(t.operationId).concat(a>0?a:"").concat(b[r]),new Blob([h(n)]))}}))}}))}}))})),e.generateAsync({type:"blob"}).then((function(e){return Q.a.saveAs(e,"".concat(t,".zip"))}))}),[l,t,a]);return r.a.createElement("div",null,r.a.createElement($.a,{className:"button",onClick:c,type:"submit"},"Download"))}var le=t(434),ce=t(439),oe=t(440);t(113);function se(){var e=Object(o.c)(),a=Object(n.useState)(!1),t=Object(W.a)(a,2),l=t[0],c=t[1],s=Object(n.useState)(""),i=Object(W.a)(s,2),u=i[0],d=i[1],p=Object(o.d)((function(e){return{languages:te(e),selectedLanguage:e.selectedLanguage,isSwagger:ee(e)}}),o.b),m=p.languages,f=p.selectedLanguage,g=p.isSwagger,v=Object(n.useCallback)((function(){c(!1),e(w(u.trim()))}),[e,u]),b=Object(n.useCallback)((function(a){var t=a.selectedItem;c(!1),e(k(t))}),[e]);return r.a.createElement("div",{className:"language"},r.a.createElement("div",{className:"language__selector"},r.a.createElement(R.a,{ariaLabel:"Languages",direction:"bottom",helperText:"Select the language to work with.",id:"swagger-language-dropdown",invalidText:"A valid value is required",items:m,label:"Language selection",selectedItem:null!==f&&void 0!==f?f:"",onChange:b})),r.a.createElement("div",{className:"language__actions"},r.a.createElement(le.a,{disabled:!g,href:"#",onClick:function(){c(!0)}},"Add language")),r.a.createElement(ce.a,{hasForm:!0,iconDescription:"Close",modalAriaLabel:"Add a new language",modalHeading:"Add language",modalLabel:"Language",primaryButtonDisabled:""===u.trim()||m.includes(u),onRequestSubmit:v,onSecondarySubmit:function(){c(!1)},open:l,primaryButtonText:"Add",secondaryButtonText:"Cancel",selectorPrimaryFocus:"#text-input-1"},r.a.createElement(oe.a,{id:"text-input-1",labelText:"Name",invalid:m.includes(u),onChange:function(e){d(e.target.value)},invalidText:"Language already exists",placeholder:"Type the language name...",type:"text"})))}var ie=t(431),ue=t(436),de=t(438),pe=t(435),me=t(67),fe=(t(115),function(e){var a=e.name,t=e.code,n=e.language,l=e.onCodeChange;return r.a.createElement("div",{className:"endpoint-example"},r.a.createElement("p",null,a),r.a.createElement("div",{className:"text-area-wrapper"},r.a.createElement("div",{className:"text-area"},r.a.createElement(pe.a,{labelText:a,hideLabel:!0,invalidText:"A valid code snippet is required",placeholder:"Type code snippet here...",cols:80,rows:20,onChange:l,value:h(t)})),r.a.createElement("div",{className:"text-area"},r.a.createElement(de.a,{className:"example-container--code",language:n,style:me.solarizedDark},h(t)))))});fe.defaultProps={code:[],language:"node",updateExample:function(){}};var ge=fe,ve=(t(397),function(){var e=Object(o.c)(),a=Object(o.d)((function(e){return{endpointExamples:ne(e),selectedLanguage:e.selectedLanguage}}),o.b),t=a.endpointExamples,n=a.selectedLanguage;return r.a.createElement("div",null,r.a.createElement(ie.a,null,t.map((function(a){return r.a.createElement(ue.a,{key:a.operationId,title:a.operationId},r.a.createElement("div",{className:"examples-container__endpoint"},a.examples.map((function(t,l){return r.a.createElement(ge,{key:t.name,code:t.code,name:t.name,language:n,onCodeChange:function(t){return e(I({path:a.path,method:a.method,language:n,index:l,newCodeExample:t.target.value}))}})}))))}))))});t(398);function be(){return r.a.createElement("div",{className:"file"},r.a.createElement("div",{className:"file__languages"},r.a.createElement(se,null)),r.a.createElement("div",{className:"file__operations"},r.a.createElement(ve,null)),r.a.createElement("div",{className:"file__actions"},r.a.createElement(re,null)))}t(399);function he(){var e=Object(o.c)(),a=Object(o.d)((function(e){return{allIds:e.allIds,selectedId:e.selectedId}}),o.b),t=a.allIds,l=a.selectedId,c=Object(n.useCallback)((function(a){var t=a.selectedItem;e(y(t))}),[e]);return 0===t.length?null:r.a.createElement("section",{className:"file-list"},r.a.createElement("div",{className:"file-list__selector"},r.a.createElement(R.a,{ariaLabel:"API Definitions",direction:"bottom",helperText:"Swagger File Selection",id:"swagger-dropdown",invalidText:"A valid value is required",items:t,label:"API Selection",selectedItem:l,onChange:c,type:"default"})),l&&r.a.createElement(be,null))}t(400);var xe=function(e){Object(D.a)(t,e);var a=Object(T.a)(t);function t(){return Object(_.a)(this,t),a.apply(this,arguments)}return Object(q.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(K.Header,{"aria-label":"IBM Examples Editor"},r.a.createElement(K.HeaderName,{href:"#",prefix:"IBM"},"SDK Examples Editor")),r.a.createElement("div",{className:"bx--grid App__content"},r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--col"},r.a.createElement(H,null),r.a.createElement(he,null)))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(429);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:S},r.a.createElement(xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,a,t){e.exports=t(430)}},[[73,1,2]]]);
//# sourceMappingURL=main.f3865ad2.chunk.js.map